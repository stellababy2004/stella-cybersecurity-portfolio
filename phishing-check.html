<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Phishing Checker - Stella Barbarella Cybersecurity</title>
  <meta name="description" content="Advanced Phishing Detection Tool - Check URLs and emails for malicious content" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
  
  <style>
    body {
      font-family: 'Courier New', monospace;
      background: linear-gradient(135deg, #0a0a0a, #1a1a2e, #16213e);
      color: #00ffee;
      min-height: 100vh;
      margin: 0;
      overflow-x: hidden;
    }

    /* Language Switcher */
    #language-switcher {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      background: rgba(0, 20, 40, 0.9);
      border: 2px solid #00ffee;
      border-radius: 8px;
      padding: 8px;
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
    }

    #language-switcher select {
      background: transparent;
      color: #00ffee;
      border: none;
      padding: 5px 10px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      cursor: pointer;
    }

    #language-switcher select option {
      background: #0a0a0a;
      color: #00ffee;
    }

    /* Container */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 80px 20px 40px;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 50px;
    }

    .header h1 {
      font-size: 3em;
      margin-bottom: 10px;
      text-shadow: 0 0 20px #00ffee;
      animation: glow 2s ease-in-out infinite alternate;
    }

    .header p {
      font-size: 1.2em;
      opacity: 0.8;
      margin-bottom: 30px;
    }

    .back-btn {
      display: inline-block;
      padding: 12px 24px;
      background: rgba(0, 255, 238, 0.1);
      border: 2px solid #00ffee;
      color: #00ffee;
      text-decoration: none;
      border-radius: 8px;
      transition: all 0.3s ease;
      font-family: 'Courier New', monospace;
      margin-bottom: 30px;
    }

    .back-btn:hover {
      background: rgba(0, 255, 238, 0.2);
      box-shadow: 0 0 20px rgba(0, 255, 238, 0.5);
      transform: translateY(-2px);
    }

    /* Main Content */
    .phishing-checker {
      background: rgba(0, 20, 40, 0.8);
      border: 2px solid #00ffee;
      border-radius: 15px;
      padding: 40px;
      margin-bottom: 40px;
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
      box-shadow: 0 0 30px rgba(0, 255, 238, 0.2);
    }

    .checker-section {
      margin-bottom: 40px;
    }

    .checker-section h2 {
      color: #00ffee;
      margin-bottom: 20px;
      font-size: 1.8em;
      text-align: center;
      text-shadow: 0 0 10px #00ffee;
    }

    .input-group {
      margin-bottom: 20px;
    }

    .input-group label {
      display: block;
      margin-bottom: 8px;
      color: #00ffee;
      font-weight: bold;
    }

    .input-group input,
    .input-group textarea {
      width: 100%;
      padding: 15px;
      background: rgba(0, 0, 0, 0.7);
      border: 2px solid #00ffee;
      border-radius: 8px;
      color: #00ffee;
      font-family: 'Courier New', monospace;
      font-size: 16px;
      transition: all 0.3s ease;
      box-sizing: border-box;
    }

    .input-group input:focus,
    .input-group textarea:focus {
      outline: none;
      box-shadow: 0 0 20px rgba(0, 255, 238, 0.5);
      border-color: #00ff88;
    }

    .input-group textarea {
      min-height: 120px;
      resize: vertical;
    }

    .check-btn {
      width: 100%;
      padding: 18px;
      background: linear-gradient(45deg, #00ffee, #0066cc);
      border: none;
      border-radius: 8px;
      color: #000;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .check-btn:hover {
      background: linear-gradient(45deg, #00ff88, #0088ff);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 255, 238, 0.4);
    }

    .check-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    /* Quick Test Buttons */
    .quick-test-section {
      margin: 15px 0;
      text-align: center;
    }

    .quick-test-label {
      font-size: 0.9em;
      margin-bottom: 10px;
      color: #ccc;
    }

    .quick-test-btn {
      display: inline-block;
      margin: 5px;
      padding: 8px 16px;
      background: rgba(0, 255, 238, 0.1);
      border: 1px solid #00ffee;
      border-radius: 6px;
      color: #00ffee;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Courier New', monospace;
    }

    .quick-test-btn:hover {
      background: rgba(0, 255, 238, 0.2);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0, 255, 238, 0.3);
    }

    /* Results */
    .results {
      margin-top: 30px;
      padding: 20px;
      background: rgba(0, 0, 0, 0.8);
      border-radius: 8px;
      border: 2px solid #333;
      display: none;
    }

    .results.show {
      display: block;
      animation: slideIn 0.5s ease-out;
    }

    .result-safe {
      border-color: #00ff88;
      background: rgba(0, 255, 136, 0.1);
    }

    .result-suspicious {
      border-color: #ffaa00;
      background: rgba(255, 165, 0, 0.1);
    }

    .result-malicious {
      border-color: #ff4444;
      background: rgba(255, 68, 68, 0.1);
    }

    .result-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      font-size: 1.4em;
      font-weight: bold;
    }

    .result-icon {
      margin-right: 15px;
      font-size: 1.5em;
    }

    .result-details {
      font-size: 14px;
      line-height: 1.6;
    }

    .result-details ul {
      margin: 10px 0;
      padding-left: 20px;
    }

    .result-details li {
      margin-bottom: 5px;
    }

    /* Tips Section */
    .tips-section {
      background: rgba(0, 20, 40, 0.8);
      border: 2px solid #00ffee;
      border-radius: 15px;
      padding: 30px;
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
    }

    .tips-section h2 {
      color: #00ffee;
      text-align: center;
      margin-bottom: 25px;
      text-shadow: 0 0 10px #00ffee;
    }

    .tips-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    .tip-card {
      background: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #00ffee;
      transition: all 0.3s ease;
    }

    .tip-card:hover {
      background: rgba(0, 255, 238, 0.1);
      transform: translateY(-2px);
    }

    .tip-card h3 {
      color: #00ff88;
      margin-bottom: 10px;
      font-size: 1.2em;
    }

    .tip-card p {
      color: #ccc;
      line-height: 1.5;
    }

    /* Animations */
    @keyframes glow {
      from { text-shadow: 0 0 20px #00ffee; }
      to { text-shadow: 0 0 30px #00ffee, 0 0 40px #0088ff; }
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Loading Animation */
    .loading {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 20px 0;
    }

    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(0, 255, 238, 0.2);
      border-left: 4px solid #00ffee;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .container {
        padding: 60px 15px 30px;
      }
      
      .header h1 {
        font-size: 2.2em;
      }
      
      .phishing-checker {
        padding: 25px;
      }
      
      .tips-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div id="particles-js"></div>
  
  <!-- Language Switcher -->
  <div id="language-switcher">
    <select id="language-select" title="Select Language">>
      <option value="en">üá∫üá∏ EN</option>
      <option value="fr">üá´üá∑ FR</option>
      <option value="bg">üáßüá¨ BG</option>
    </select>
  </div>

  <div class="container">
    <!-- Header -->
    <div class="header">
      <a href="index.html" class="back-btn" data-translate="back-to-portfolio">
        <i class="fas fa-arrow-left"></i> Back to Portfolio
      </a>
      <h1 data-translate="phishing-checker-title">üõ°Ô∏è Phishing Checker</h1>
      <p data-translate="phishing-checker-subtitle">Advanced tool to detect phishing attempts and malicious content</p>
    </div>

    <!-- Main Checker -->
    <div class="phishing-checker">
      <!-- URL Checker -->
      <div class="checker-section">
        <h2 data-translate="url-checker-title">üîó URL Analysis</h2>
        <div class="input-group">
          <label for="url-input" data-translate="url-input-label">Enter URL to check:</label>
          <input type="url" id="url-input" placeholder="https://example.com" data-translate-placeholder="url-placeholder">
        </div>
        
        <!-- Quick Test Buttons -->
        <div class="quick-test-section">
          <p class="quick-test-label" data-translate="quick-test-label">Quick Test Examples:</p>
          <button class="quick-test-btn" onclick="testPhishingURL('4000.top')" data-translate="test-phishing">Test Known Phishing</button>
          <button class="quick-test-btn" onclick="testPhishingURL('google.com')" data-translate="test-safe">Test Safe Site</button>
          <button class="quick-test-btn" onclick="testPhishingURL('http://malicious-site.com')" data-translate="test-suspicious">Test Suspicious</button>
        </div>
        
        <button class="check-btn" id="check-url-btn" data-translate="check-url-btn">Analyze URL</button>
        <div id="url-results" class="results"></div>
      </div>

      <!-- Email Checker -->
      <div class="checker-section">
        <h2 data-translate="email-checker-title">üìß Email Content Analysis</h2>
        <div class="input-group">
          <label for="email-input" data-translate="email-input-label">Paste email content or headers:</label>
          <textarea id="email-input" placeholder="Paste email content here..." data-translate-placeholder="email-placeholder"></textarea>
        </div>
        <button class="check-btn" id="check-email-btn" data-translate="check-email-btn">Analyze Email</button>
        <div id="email-results" class="results"></div>
      </div>
    </div>

    <!-- Tips Section -->
    <div class="tips-section">
      <h2 data-translate="tips-title">üí° Phishing Detection Tips</h2>
      <div class="tips-grid">
        <div class="tip-card">
          <h3 data-translate="tip1-title">Check the URL</h3>
          <p data-translate="tip1-text">Look for misspelled domains, suspicious subdomains, and unusual top-level domains (.tk, .ml, etc.)</p>
        </div>
        <div class="tip-card">
          <h3 data-translate="tip2-title">Verify SSL Certificate</h3>
          <p data-translate="tip2-text">Legitimate sites use HTTPS. Check for the padlock icon and valid SSL certificates.</p>
        </div>
        <div class="tip-card">
          <h3 data-translate="tip3-title">Examine Email Headers</h3>
          <p data-translate="tip3-text">Check sender's email address, reply-to address, and routing information for inconsistencies.</p>
        </div>
        <div class="tip-card">
          <h3 data-translate="tip4-title">Look for Urgency</h3>
          <p data-translate="tip4-text">Phishing attempts often create false urgency to pressure quick action without thinking.</p>
        </div>
        <div class="tip-card">
          <h3 data-translate="tip5-title">Grammar and Spelling</h3>
          <p data-translate="tip5-text">Professional organizations rarely send emails with poor grammar or spelling mistakes.</p>
        </div>
        <div class="tip-card">
          <h3 data-translate="tip6-title">Unexpected Attachments</h3>
          <p data-translate="tip6-text">Be cautious with unexpected attachments, especially executable files (.exe, .zip, .scr).</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Particles.js configuration
    particlesJS('particles-js', {
      particles: {
        number: { value: 80, density: { enable: true, value_area: 800 } },
        color: { value: '#00ffee' },
        shape: { type: 'circle' },
        opacity: { value: 0.5, random: false },
        size: { value: 3, random: true },
        line_linked: { enable: true, distance: 150, color: '#00ffee', opacity: 0.4, width: 1 },
        move: { enable: true, speed: 6, direction: 'none', random: false, straight: false, out_mode: 'out', bounce: false }
      },
      interactivity: {
        detect_on: 'canvas',
        events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' }, resize: true },
        modes: { grab: { distance: 400, line_linked: { opacity: 1 } }, bubble: { distance: 400, size: 40, duration: 2, opacity: 8, speed: 3 }, repulse: { distance: 200, duration: 0.4 }, push: { particles_nb: 4 }, remove: { particles_nb: 2 } }
      },
      retina_detect: true
    });

    // Real Phishing Detection - Load OpenPhish database
    let openPhishList = [];
    
    // Load phishing URLs from openphish.txt
    fetch('openphish.txt')
      .then(res => res.text())
      .then(text => {
        openPhishList = text.split('\n').map(url => url.trim()).filter(Boolean);
        console.log(`Loaded ${openPhishList.length} known phishing URLs`);
      })
      .catch(error => {
        console.warn('Could not load openphish.txt, using pattern-based detection only:', error);
      });

    // URL normalization function
    function normalizeUrl(url) {
      return url.trim().replace(/^https?:\/\//i, '').replace(/\/$/, '').toLowerCase();
    }

    // Real phishing check function
    async function checkPhishing(url) {
      const testUrl = normalizeUrl(url);
      return openPhishList.some(phishUrl => normalizeUrl(phishUrl) === testUrl);
    }

    // Translation data
    const translations = {
      en: {
        'back-to-portfolio': '‚Üê Back to Portfolio',
        'phishing-checker-title': 'üõ°Ô∏è Phishing Checker',
        'phishing-checker-subtitle': 'Advanced tool to detect phishing attempts and malicious content',
        'url-checker-title': 'üîó URL Analysis',
        'url-input-label': 'Enter URL to check:',
        'url-placeholder': 'https://example.com',
        'check-url-btn': 'Analyze URL',
        'email-checker-title': 'üìß Email Content Analysis',
        'email-input-label': 'Paste email content or headers:',
        'email-placeholder': 'Paste email content here...',
        'check-email-btn': 'Analyze Email',
        'tips-title': 'üí° Phishing Detection Tips',
        'tip1-title': 'Check the URL',
        'tip1-text': 'Look for misspelled domains, suspicious subdomains, and unusual top-level domains (.tk, .ml, etc.)',
        'tip2-title': 'Verify SSL Certificate',
        'tip2-text': 'Legitimate sites use HTTPS. Check for the padlock icon and valid SSL certificates.',
        'tip3-title': 'Examine Email Headers',
        'tip3-text': 'Check sender\'s email address, reply-to address, and routing information for inconsistencies.',
        'tip4-title': 'Look for Urgency',
        'tip4-text': 'Phishing attempts often create false urgency to pressure quick action without thinking.',
        'tip5-title': 'Grammar and Spelling',
        'tip5-text': 'Professional organizations rarely send emails with poor grammar or spelling mistakes.',
        'tip6-title': 'Unexpected Attachments',
        'tip6-text': 'Be cautious with unexpected attachments, especially executable files (.exe, .zip, .scr).',
        'safe-verdict': 'SAFE',
        'suspicious-verdict': 'SUSPICIOUS',
        'malicious-verdict': 'MALICIOUS',
        'analyzing': 'Analyzing...',
        'analysis-complete': 'Analysis Complete',
        'safe-description': 'This URL appears to be safe based on our analysis.',
        'suspicious-description': 'This content shows some suspicious characteristics. Exercise caution.',
        'malicious-description': 'This content appears to be malicious. Do not interact with it.',
        'common-indicators': 'Common indicators found:',
        'recommendations': 'Recommendations:'
      },
      fr: {
        'back-to-portfolio': '‚Üê Retour au Portfolio',
        'phishing-checker-title': 'üõ°Ô∏è D√©tecteur de Phishing',
        'phishing-checker-subtitle': 'Outil avanc√© pour d√©tecter les tentatives de phishing et contenu malveillant',
        'url-checker-title': 'üîó Analyse d\'URL',
        'url-input-label': 'Entrez l\'URL √† v√©rifier:',
        'url-placeholder': 'https://exemple.com',
        'check-url-btn': 'Analyser l\'URL',
        'email-checker-title': 'üìß Analyse du Contenu Email',
        'email-input-label': 'Collez le contenu ou les en-t√™tes de l\'email:',
        'email-placeholder': 'Collez le contenu de l\'email ici...',
        'check-email-btn': 'Analyser l\'Email',
        'tips-title': 'üí° Conseils de D√©tection de Phishing',
        'tip1-title': 'V√©rifiez l\'URL',
        'tip1-text': 'Recherchez les domaines mal orthographi√©s, les sous-domaines suspects et les domaines de premier niveau inhabituels (.tk, .ml, etc.)',
        'tip2-title': 'V√©rifiez le Certificat SSL',
        'tip2-text': 'Les sites l√©gitimes utilisent HTTPS. V√©rifiez l\'ic√¥ne de cadenas et les certificats SSL valides.',
        'tip3-title': 'Examinez les En-t√™tes d\'Email',
        'tip3-text': 'V√©rifiez l\'adresse email de l\'exp√©diteur, l\'adresse de r√©ponse et les informations de routage pour d√©tecter les incoh√©rences.',
        'tip4-title': 'Attention √† l\'Urgence',
        'tip4-text': 'Les tentatives de phishing cr√©ent souvent une fausse urgence pour pousser √† l\'action rapide sans r√©flexion.',
        'tip5-title': 'Grammaire et Orthographe',
        'tip5-text': 'Les organisations professionnelles envoient rarement des emails avec une grammaire ou orthographe m√©diocre.',
        'tip6-title': 'Pi√®ces Jointes Inattendues',
        'tip6-text': 'M√©fiez-vous des pi√®ces jointes inattendues, surtout les fichiers ex√©cutables (.exe, .zip, .scr).',
        'safe-verdict': 'S√õR',
        'suspicious-verdict': 'SUSPECT',
        'malicious-verdict': 'MALVEILLANT',
        'analyzing': 'Analyse en cours...',
        'analysis-complete': 'Analyse Termin√©e',
        'safe-description': 'Cette URL semble s√ªre selon notre analyse.',
        'suspicious-description': 'Ce contenu pr√©sente des caract√©ristiques suspectes. Soyez prudent.',
        'malicious-description': 'Ce contenu semble malveillant. N\'interagissez pas avec.',
        'common-indicators': 'Indicateurs communs trouv√©s:',
        'recommendations': 'Recommandations:'
      },
      bg: {
        'back-to-portfolio': '‚Üê –ù–∞–∑–∞–¥ –∫—ä–º –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ',
        'phishing-checker-title': 'üõ°Ô∏è –î–µ—Ç–µ–∫—Ç–æ—Ä –∑–∞ –§–∏—à–∏–Ω–≥',
        'phishing-checker-subtitle': '–£—Å—ä–≤—ä—Ä—à–µ–Ω—Å—Ç–≤–∞–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑–∞ –æ—Ç–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ —Ñ–∏—à–∏–Ω–≥ –∞—Ç–∞–∫–∏ –∏ –∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ',
        'url-checker-title': 'üîó –ê–Ω–∞–ª–∏–∑ –Ω–∞ URL',
        'url-input-label': '–í—ä–≤–µ–¥–µ—Ç–µ URL –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞:',
        'url-placeholder': 'https://example.com',
        'check-url-btn': '–ê–Ω–∞–ª–∏–∑–∏—Ä–∞–π URL',
        'email-checker-title': 'üìß –ê–Ω–∞–ª–∏–∑ –Ω–∞ –ò–º–µ–π–ª –°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ',
        'email-input-label': '–ü–æ—Å—Ç–∞–≤–µ—Ç–µ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –∏–ª–∏ —Ö–µ–¥—ä—Ä–∏—Ç–µ –Ω–∞ –∏–º–µ–π–ª–∞:',
        'email-placeholder': '–ü–æ—Å—Ç–∞–≤–µ—Ç–µ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –Ω–∞ –∏–º–µ–π–ª–∞ —Ç—É–∫...',
        'check-email-btn': '–ê–Ω–∞–ª–∏–∑–∏—Ä–∞–π –ò–º–µ–π–ª',
        'tips-title': 'üí° –°—ä–≤–µ—Ç–∏ –∑–∞ –û—Ç–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –§–∏—à–∏–Ω–≥',
        'tip1-title': '–ü—Ä–æ–≤–µ—Ä–µ—Ç–µ URL-–∞',
        'tip1-text': '–¢—ä—Ä—Å–µ—Ç–µ –≥—Ä–µ—à–Ω–æ –∏–∑–ø–∏—Å–∞–Ω–∏ –¥–æ–º–µ–π–Ω–∏, –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª–Ω–∏ –ø–æ–¥–¥–æ–º–µ–π–Ω–∏ –∏ –Ω–µ–æ–±–∏—á–∞–π–Ω–∏ –¥–æ–º–µ–π–Ω–∏ –æ—Ç –Ω–∞–π-–≤–∏—Å–æ–∫–æ –Ω–∏–≤–æ (.tk, .ml, –∏ –¥—Ä.)',
        'tip2-title': '–ü—Ä–æ–≤–µ—Ä–µ—Ç–µ SSL –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞',
        'tip2-text': '–õ–µ–≥–∏—Ç–∏–º–Ω–∏—Ç–µ —Å–∞–π—Ç–æ–≤–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç HTTPS. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∑–∞ –∏–∫–æ–Ω–∞—Ç–∞ –Ω–∞ –∫–∞—Ç–∏–Ω–∞—Ä –∏ –≤–∞–ª–∏–¥–Ω–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∏.',
        'tip3-title': '–ò–∑—Å–ª–µ–¥–≤–∞–π—Ç–µ –ò–º–µ–π–ª –•–µ–¥—ä—Ä–∏—Ç–µ',
        'tip3-text': '–ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∏–º–µ–π–ª –∞–¥—Ä–µ—Å–∞ –Ω–∞ –∏–∑–ø—Ä–∞—â–∞—á–∞, –∞–¥—Ä–µ—Å–∞ –∑–∞ –æ—Ç–≥–æ–≤–æ—Ä –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è—Ç–∞ –∑–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–∞–Ω–µ –∑–∞ –Ω–µ—Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è.',
        'tip4-title': '–í–Ω–∏–º–∞–≤–∞–π—Ç–µ —Å –°–ø–µ—à–Ω–æ—Å—Ç—Ç–∞',
        'tip4-text': '–§–∏—à–∏–Ω–≥ –∞—Ç–∞–∫–∏—Ç–µ —á–µ—Å—Ç–æ —Å—ä–∑–¥–∞–≤–∞—Ç —Ñ–∞–ª—à–∏–≤–∞ —Å–ø–µ—à–Ω–æ—Å—Ç, –∑–∞ –¥–∞ –ø—Ä–∏–Ω—É–¥—è—Ç –∫—ä–º –±—ä—Ä–∑–∏ –¥–µ–π—Å—Ç–≤–∏—è –±–µ–∑ —Ä–∞–∑–º–∏—Å—ä–ª.',
        'tip5-title': '–ì—Ä–∞–º–∞—Ç–∏–∫–∞ –∏ –ü—Ä–∞–≤–æ–ø–∏—Å',
        'tip5-text': '–ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∏—Ç–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ä—è–¥–∫–æ –∏–∑–ø—Ä–∞—â–∞—Ç –∏–º–µ–π–ª–∏ —Å –ª–æ—à–∞ –≥—Ä–∞–º–∞—Ç–∏–∫–∞ –∏–ª–∏ –ø—Ä–∞–≤–æ–ø–∏—Å–Ω–∏ –≥—Ä–µ—à–∫–∏.',
        'tip6-title': '–ù–µ–æ—á–∞–∫–≤–∞–Ω–∏ –ü—Ä–∏–∫–∞—á–µ–Ω–∏ –§–∞–π–ª–æ–≤–µ',
        'tip6-text': '–ë—ä–¥–µ—Ç–µ –ø—Ä–µ–¥–ø–∞–∑–ª–∏–≤–∏ —Å –Ω–µ–æ—á–∞–∫–≤–∞–Ω–∏ –ø—Ä–∏–∫–∞—á–µ–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ, –æ—Å–æ–±–µ–Ω–æ –∏–∑–ø—ä–ª–Ω–∏–º–∏ —Ñ–∞–π–ª–æ–≤–µ (.exe, .zip, .scr).',
        'safe-verdict': '–ë–ï–ó–û–ü–ê–°–ù–û',
        'suspicious-verdict': '–ü–û–î–û–ó–†–ò–¢–ï–õ–ù–û',
        'malicious-verdict': '–ó–õ–û–ù–ê–ú–ï–†–ï–ù–û',
        'analyzing': '–ê–Ω–∞–ª–∏–∑–∏—Ä–∞–º...',
        'analysis-complete': '–ê–Ω–∞–ª–∏–∑—ä—Ç –µ –ó–∞–≤—ä—Ä—à–µ–Ω',
        'safe-description': '–¢–æ–∑–∏ URL –∏–∑–≥–ª–µ–∂–¥–∞ –±–µ–∑–æ–ø–∞—Å–µ–Ω —Å–ø–æ—Ä–µ–¥ –Ω–∞—à–∏—è –∞–Ω–∞–ª–∏–∑.',
        'suspicious-description': '–¢–æ–≤–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –ø–æ–∫–∞–∑–≤–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª–Ω–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏. –ë—ä–¥–µ—Ç–µ –ø—Ä–µ–¥–ø–∞–∑–ª–∏–≤–∏.',
        'malicious-description': '–¢–æ–≤–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –∏–∑–≥–ª–µ–∂–¥–∞ –∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–æ. –ù–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∞–π—Ç–µ —Å –Ω–µ–≥–æ.',
        'common-indicators': '–ù–∞–º–µ—Ä–µ–Ω–∏ –æ–±—â–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏:',
        'recommendations': '–ü—Ä–µ–ø–æ—Ä—ä–∫–∏:'
      }
    };

    // Language switching functionality
    let currentLanguage = localStorage.getItem('selectedLanguage') || 'en';
    
    function updateLanguage(language) {
      currentLanguage = language;
      localStorage.setItem('selectedLanguage', language);
      document.documentElement.lang = language;
      
      // Update all elements with data-translate attributes
      const elements = document.querySelectorAll('[data-translate]');
      elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[language] && translations[language][key]) {
          element.textContent = translations[language][key];
        }
      });

      // Update placeholders
      const placeholderElements = document.querySelectorAll('[data-translate-placeholder]');
      placeholderElements.forEach(element => {
        const key = element.getAttribute('data-translate-placeholder');
        if (translations[language] && translations[language][key]) {
          element.placeholder = translations[language][key];
        }
      });
    }

    // Initialize language
    document.getElementById('language-select').value = currentLanguage;
    updateLanguage(currentLanguage);

    // Language select event listener
    document.getElementById('language-select').addEventListener('change', function(e) {
      updateLanguage(e.target.value);
    });

    // URL Checker functionality
    document.getElementById('check-url-btn').addEventListener('click', async function() {
      const url = document.getElementById('url-input').value.trim();
      const resultsDiv = document.getElementById('url-results');
      
      if (!url) {
        alert('Please enter a URL to check');
        return;
      }

      // Show loading
      resultsDiv.innerHTML = `
        <div class="loading">
          <div class="loading-spinner"></div>
          <span style="margin-left: 15px;">${translations[currentLanguage]['analyzing']}</span>
        </div>
      `;
      resultsDiv.className = 'results show';

      // Real analysis with database check
      try {
        await new Promise(resolve => setTimeout(resolve, 1500)); // Small delay for UX
        const result = await analyzeURL(url);
        displayResults(resultsDiv, result, 'url');
      } catch (error) {
        console.error('Error analyzing URL:', error);
        resultsDiv.innerHTML = `
          <div class="result-header">
            <span class="result-icon">‚ùå</span>
            <span>Analysis Error</span>
          </div>
          <p>Could not analyze URL. Please try again.</p>
        `;
        resultsDiv.className = 'results show result-suspicious';
      }
    });

    // Email Checker functionality
    document.getElementById('check-email-btn').addEventListener('click', function() {
      const email = document.getElementById('email-input').value.trim();
      const resultsDiv = document.getElementById('email-results');
      
      if (!email) {
        alert('Please enter email content to check');
        return;
      }

      // Show loading
      resultsDiv.innerHTML = `
        <div class="loading">
          <div class="loading-spinner"></div>
          <span style="margin-left: 15px;">${translations[currentLanguage]['analyzing']}</span>
        </div>
      `;
      resultsDiv.className = 'results show';

      // Simulate analysis
      setTimeout(() => {
        const result = analyzeEmail(email);
        displayResults(resultsDiv, result, 'email');
      }, 2000);
    });

    // URL Analysis function (with real phishing detection)
    async function analyzeURL(url) {
      const suspiciousPatterns = [
        /[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/, // IP addresses
        /\.(tk|ml|ga|cf)$/i, // Suspicious TLDs
        /-/g, // Multiple hyphens
        /[0-9]{4,}/, // Long numbers
        /paypal|amazon|microsoft|google/i // Brand impersonation
      ];

      let riskScore = 0;
      const indicators = [];

      // First check against known phishing database
      const isKnownPhishing = await checkPhishing(url);
      if (isKnownPhishing) {
        riskScore += 100; // Maximum risk for known phishing
        indicators.push('üö® Found in known phishing database');
      }

      // Check for suspicious patterns
      suspiciousPatterns.forEach(pattern => {
        if (pattern.test(url)) {
          riskScore += 20;
          if (pattern.toString().includes('paypal|amazon')) {
            indicators.push('Potential brand impersonation detected');
          } else if (pattern.toString().includes('tk|ml')) {
            indicators.push('Suspicious top-level domain');
          } else if (pattern.toString().includes('[0-9]')) {
            indicators.push('IP address or suspicious numbers in URL');
          }
        }
      });

      // Check HTTPS
      if (!url.startsWith('https://')) {
        riskScore += 30;
        indicators.push('Not using secure HTTPS protocol');
      }

      // Determine verdict
      let verdict, className, icon;
      if (riskScore >= 50) {
        verdict = 'malicious-verdict';
        className = 'result-malicious';
        icon = 'üö®';
      } else if (riskScore >= 20) {
        verdict = 'suspicious-verdict';
        className = 'result-suspicious';
        icon = '‚ö†Ô∏è';
      } else {
        verdict = 'safe-verdict';
        className = 'result-safe';
        icon = '‚úÖ';
      }

      return {
        verdict,
        className,
        icon,
        riskScore,
        indicators,
        url
      };
    }

    // Email Analysis function (simulated)
    function analyzeEmail(emailContent) {
      const suspiciousPatterns = [
        /urgent|immediate|act now|limited time|expires/i,
        /click here|download now|update your/i,
        /verify your account|suspended|locked/i,
        /congratulations|you've won|lottery/i,
        /nigerian prince|inheritance|million dollars/i
      ];

      let riskScore = 0;
      const indicators = [];

      // Check for suspicious patterns
      suspiciousPatterns.forEach(pattern => {
        if (pattern.test(emailContent)) {
          riskScore += 25;
          if (pattern.toString().includes('urgent|immediate')) {
            indicators.push('Creates false sense of urgency');
          } else if (pattern.toString().includes('click here')) {
            indicators.push('Contains suspicious call-to-action phrases');
          } else if (pattern.toString().includes('verify your account')) {
            indicators.push('Requests account verification');
          } else if (pattern.toString().includes('congratulations')) {
            indicators.push('Contains lottery/prize scam language');
          } else if (pattern.toString().includes('nigerian')) {
            indicators.push('Contains advance fee fraud patterns');
          }
        }
      });

      // Check for poor grammar (simplified check)
      const grammarIssues = emailContent.match(/\b(recieve|seperate|thier|youre)\b/gi);
      if (grammarIssues && grammarIssues.length > 0) {
        riskScore += 15;
        indicators.push('Contains spelling/grammar errors');
      }

      // Determine verdict
      let verdict, className, icon;
      if (riskScore >= 50) {
        verdict = 'malicious-verdict';
        className = 'result-malicious';
        icon = 'üö®';
      } else if (riskScore >= 25) {
        verdict = 'suspicious-verdict';
        className = 'result-suspicious';
        icon = '‚ö†Ô∏è';
      } else {
        verdict = 'safe-verdict';
        className = 'result-safe';
        icon = '‚úÖ';
      }

      return {
        verdict,
        className,
        icon,
        riskScore,
        indicators,
        content: emailContent.substring(0, 100) + '...'
      };
    }

    // Display results function
    function displayResults(resultsDiv, result, type) {
      const verdictText = translations[currentLanguage][result.verdict];
      const description = translations[currentLanguage][result.verdict.replace('-verdict', '-description')];
      
      let indicatorsHTML = '';
      if (result.indicators.length > 0) {
        indicatorsHTML = `
          <div class="result-details">
            <strong>${translations[currentLanguage]['common-indicators']}</strong>
            <ul>
              ${result.indicators.map(indicator => `<li>${indicator}</li>`).join('')}
            </ul>
          </div>
        `;
      }

      const recommendations = getRecommendations(result.riskScore);
      let recommendationsHTML = '';
      if (recommendations.length > 0) {
        recommendationsHTML = `
          <div class="result-details">
            <strong>${translations[currentLanguage]['recommendations']}</strong>
            <ul>
              ${recommendations.map(rec => `<li>${rec}</li>`).join('')}
            </ul>
          </div>
        `;
      }

      resultsDiv.innerHTML = `
        <div class="result-header">
          <span class="result-icon">${result.icon}</span>
          <span>${translations[currentLanguage]['analysis-complete']}: ${verdictText}</span>
        </div>
        <p>${description}</p>
        ${indicatorsHTML}
        ${recommendationsHTML}
        <div class="result-details">
          <small><strong>Risk Score:</strong> ${result.riskScore}/100</small>
        </div>
      `;
      
      resultsDiv.className = `results show ${result.className}`;
    }

    // Get recommendations based on risk score
    function getRecommendations(riskScore) {
      if (riskScore >= 50) {
        return [
          'Do not click any links or download attachments',
          'Report this content to your IT security team',
          'Delete the message immediately',
          'Scan your system for malware if you interacted with the content'
        ];
      } else if (riskScore >= 25) {
        return [
          'Exercise extreme caution',
          'Verify sender through alternative means',
          'Do not provide personal information',
          'Consider reporting to security team'
        ];
      } else {
        return [
          'Content appears safe, but stay vigilant',
          'Always verify unexpected requests',
          'Keep security software updated'
        ];
      }
    }
  </script>
</body>
</html>
